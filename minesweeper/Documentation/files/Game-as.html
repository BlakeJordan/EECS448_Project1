<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Game.as</title><link rel="stylesheet" type="text/css" href="../styles/main.css" /><script type="text/javascript" src="../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Game"></a><a name="Topic19"></a><div class="CTopic TClass LActionScript first">
 <div class="CTitle">Game</div>
 <div class="NDClassPrototype HasParents" id="NDClassPrototype19"><div class="CPEntry Parent TClass"><div class="CPName">MovieClip</div></div><div class="CPEntry TClass Current"><div class="CPModifiers"><span class="SHKeyword">public</span></div><div class="CPName">Game</div></div></div>
 <div class="CBody"><p>Processes each move and checks whether the game is over</p></div>
</div>

<a name="Game.Variables"></a><a name="Topic20"></a><div class="CTopic TGroup LActionScript">
 <div class="CTitle">Variables</div>
</div>

<a name="Game.localScores"></a><a name="Topic21"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">localScores</div>
 <div id="NDPrototype21" class="NDPrototype NoParameterForm"><span class="SHKeyword">public var</span> localScores:SharedObject</div>
 <div class="CBody"><p>Stores local leaderboard data</p></div>
</div>

<a name="Game.didPlayerWin"></a><a name="Topic22"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">didPlayerWin</div>
 <div id="NDPrototype22" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> didPlayerWin:Boolean</div>
 <div class="CBody"><p>Represents if the player won.</p></div>
</div>

<a name="Game.m_gameType"></a><a name="Topic23"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">m_gameType</div>
 <div id="NDPrototype23" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> m_gameType:String</div>
 <div class="CBody"><p>Type of game</p></div>
</div>

<a name="Game.m_PlayerName"></a><a name="Topic24"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">m_PlayerName</div>
 <div id="NDPrototype24" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> m_playerName:String</div>
 <div class="CBody"><p>Player's name</p></div>
</div>

<a name="Game.timer"></a><a name="Topic25"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">timer</div>
 <div id="NDPrototype25" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> timer:Timer</div>
 <div class="CBody"><p>Timer for game</p></div>
</div>

<a name="Game.board"></a><a name="Topic26"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">board</div>
 <div id="NDPrototype26" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> board:<a href="../index.html#File:Board.as:Board" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,76);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Board</a></div>
 <div class="CBody"><p>Board object for the game</p></div>
</div>

<a name="Game.rowSize"></a><a name="Topic27"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">rowSize</div>
 <div id="NDPrototype27" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> rowSize:<span class="SHKeyword">int</span></div>
 <div class="CBody"><p>Number of rows on the board</p></div>
</div>

<a name="Game.colSize"></a><a name="Topic28"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">colSize</div>
 <div id="NDPrototype28" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> colSize:<span class="SHKeyword">int</span></div>
 <div class="CBody"><p>Number of columns on the board</p></div>
</div>

<a name="Game.flagCount"></a><a name="Topic29"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">flagCount</div>
 <div id="NDPrototype29" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> flagCount:<span class="SHKeyword">int</span></div>
 <div class="CBody"><p>Number of flags currently on the board</p></div>
</div>

<a name="Game.firstClick"></a><a name="Topic30"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">firstClick</div>
 <div id="NDPrototype30" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> firstClick:Boolean</div>
 <div class="CBody"><p>Whether the next click is the first one</p></div>
</div>

<a name="Game.frameArray"></a><a name="Topic31"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">frameArray</div>
 <div id="NDPrototype31" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> frameArray:Array</div>
 <div class="CBody"><p>Array to hold current frames of every tile. Used to perserve board state before everything is visible in cheat mode.</p></div>
</div>

<a name="Game.isClicked"></a><a name="Topic32"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">isClicked</div>
 <div id="NDPrototype32" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> isClicked:Boolean</div>
 <div class="CBody"><p>used to see if 'c' has been clicked. There was a bug when activating cheat mode while already in cheat mode.</p></div>
</div>

<a name="Game.inCheatMode"></a><a name="Topic33"></a><div class="CTopic TVariable LActionScript">
 <div class="CTitle">inCheatMode</div>
 <div id="NDPrototype33" class="NDPrototype NoParameterForm"><span class="SHKeyword">private var</span> inCheatMode:Boolean</div>
 <div class="CBody"><p>Used to make sure you're in cheat mode when trying to deactivate cheat mode. Trying to deactivate cheat mode when not in cheat mode also had a bug.</p></div>
</div>

<a name="Game.Functions"></a><a name="Topic34"></a><div class="CTopic TGroup LActionScript">
 <div class="CTitle">Functions</div>
</div>

<a name="Game.Game"></a><a name="Topic35"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">Game</div>
 <div id="NDPrototype35" class="NDPrototype WideForm PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public</span> <span class="SHKeyword">function</span> Game(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">myBoard</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last"><a href="../index.html#File:Board.as:Board" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,76);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Board</a>,</td></tr><tr><td class="PName first">gameType</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last">String,</td></tr><tr><td class="PName first">playerName</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last">String</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Stores or intitializes class variables, adds event listenser to all pieces</p><p>@pre None.</p><p>@post all pieces respond to clicking</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">myBoard<div class="CDLParameterType"><a href="../index.html#File:Board.as:Board" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,76);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Board</a></div></td><td class="CDLDefinition"><p>Board object to be tracked</p></td></tr><tr><td class="CDLEntry">gameType<div class="CDLParameterType">String</div></td><td class="CDLDefinition"><p>Type of game</p></td></tr><tr><td class="CDLEntry">playerName<div class="CDLParameterType">String</div></td><td class="CDLDefinition"><p>Player's name</p></td></tr></table></div>
</div>

<a name="Game.cheatMode"></a><a name="Topic36"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">cheatMode</div>
 <div id="NDPrototype36" class="NDPrototype WideForm PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public function</span> cheatMode(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">evt</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last">KeyboardEvent</td></tr></table></td><td class="PAfterParameters">):<span class="SHKeyword">void</span></td></tr></table></div>
 <div class="CBody"><p>Fills frameArray, deactivates ability to click, and reveals board.</p><p>@pre None.</p><p>@post all board pieces are returned to the frames prior to cheat mode.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">KeyboardEvent</td><td class="CDLDefinition"><p>used to see what key was pressed.</p></td></tr></table></div>
</div>

<a name="Game.revertCheat"></a><a name="Topic37"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">revertCheat</div>
 <div id="NDPrototype37" class="NDPrototype NoParameterForm"><span class="SHKeyword">public function</span> revertCheat():<span class="SHKeyword">void</span></div>
 <div class="CBody"><p>sets each piece to the frame obtained from the frameArray..</p><p>@pre board has been cheated on.</p><p>@post board is reverted back to previous state.</p></div>
</div>

<a name="Game.handleClick"></a><a name="Topic38"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">handleClick</div>
 <div id="NDPrototype38" class="NDPrototype WideForm PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public function</span> handleClick(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">evt</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last">MouseEvent</td></tr></table></td><td class="PAfterParameters">):<span class="SHKeyword">void</span></td></tr></table></div>
 <div class="CBody"><p>If unclear piece is clicked, piece is cleared or mine is set off. If unclicked piece is shift-clicked, flag is toggled and flagCounter is updated. If numbered piece is clicked and that number of flags surround it, clicks all unclicked pieces around that piece.</p><p>@pre a piece is clicked</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">evt<div class="CDLParameterType">MouseEvent</div></td><td class="CDLDefinition"><p>MouseEvent object passed from the event listener</p></td></tr></table></div>
</div>

<a name="Game.flagAll"></a><a name="Topic39"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">flagAll</div>
 <div id="NDPrototype39" class="NDPrototype NoParameterForm"><span class="SHKeyword">public function</span> flagAll():<span class="SHKeyword">void</span></div>
 <div class="CBody"><p>Flags all non-flagged mines</p><p>@pre All non-mine spaces have been cleared</p><p>@post all mines are flagged</p></div>
</div>

<a name="Game.endGame"></a><a name="Topic40"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">endGame</div>
 <div id="NDPrototype40" class="NDPrototype NoParameterForm"><span class="SHKeyword">public function</span> endGame():<span class="SHKeyword">void</span></div>
 <div class="CBody"><p>Removes event listeners from all pieces</p><p>@pre mine has been clicked or only mines are left unclicked</p><p>@post board no longer responds to clicks</p></div>
</div>

<a name="Game.recordGame"></a><a name="Topic41"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">recordGame</div>
 <div id="NDPrototype41" class="NDPrototype NoParameterForm"><span class="SHKeyword">public function</span> recordGame():<span class="SHKeyword">void</span></div>
 <div class="CBody"><p>Records game data in cookie</p><p>@pre Game has ended by winning.</p><p>@post Game data has been written to cookie if a highscore has occured.</p></div>
</div>

<a name="Game.clearSurrounding"></a><a name="Topic42"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">clearSurrounding</div>
 <div id="NDPrototype42" class="NDPrototype WideForm PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public function</span> clearSurrounding(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">row</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last"><span class="SHKeyword">int</span>,</td></tr><tr><td class="PName first">col</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last"><span class="SHKeyword">int</span></td></tr></table></td><td class="PAfterParameters">):<span class="SHKeyword">void</span></td></tr></table></div>
 <div class="CBody"><p>Clears unclicked pieces around a given piece</p><p>@pre piece has been cleared and its number matches how many flags surround it</p><p>@post all unclicked pieces around it get clicked</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">row<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>row of piece</p></td></tr><tr><td class="CDLEntry">col<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>column of piece</p></td></tr></table></div>
</div>

<a name="Game.countFlags"></a><a name="Topic43"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">countFlags</div>
 <div id="NDPrototype43" class="NDPrototype WideForm PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public function</span> countFlags(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">x</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last"><span class="SHKeyword">int</span>,</td></tr><tr><td class="PName first">row</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last"><span class="SHKeyword">int</span>,</td></tr><tr><td class="PName first">col</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last"><span class="SHKeyword">int</span></td></tr></table></td><td class="PAfterParameters">):<span class="SHKeyword">int</span></td></tr></table></div>
 <div class="CBody"><p>Counts flags around a given numbered piece and returns the number</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">x<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>number of the piece</p></td></tr><tr><td class="CDLEntry">row<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>row of the piece</p></td></tr><tr><td class="CDLEntry">col<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>column of the piece</p></td></tr></table><div class="CHeading">Returns</div><p>number of flags surrounding the piece</p></div>
</div>

<a name="Game.countFlaggedMines"></a><a name="Topic44"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">countFlaggedMines</div>
 <div id="NDPrototype44" class="NDPrototype NoParameterForm"><span class="SHKeyword">public function</span> countFlaggedMines():<span class="SHKeyword">int</span></div>
 <div class="CBody"><p>Counts the number of flagged mines on the board</p><p>@pre Game is in progress</p><div class="CHeading">Returns</div><p>Number of flagged mines</p></div>
</div>

<a name="Game.endCheck"></a><a name="Topic45"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">endCheck</div>
 <div id="NDPrototype45" class="NDPrototype NoParameterForm"><span class="SHKeyword">public function</span> endCheck():Boolean</div>
 <div class="CBody"><p>Detonates mine and ends game or clicks piece</p><p>@post mines are set off and game ends, or pieces are cleared until numbered pieces or edge of board is found</p><div class="CHeading">Returns</div><p>whether board has been cleared</p></div>
</div>

<a name="Game.isEmpty"></a><a name="Topic49"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">isEmpty</div>
 <div id="NDPrototype49" class="NDPrototype WideForm PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public function</span> isEmpty(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">row</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last"><span class="SHKeyword">int</span>,</td></tr><tr><td class="PName first">col</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last"><span class="SHKeyword">int</span>&nbsp;</td></tr></table></td><td class="PAfterParameters">):<span class="SHKeyword">void</span></td></tr></table></div>
 <div class="CBody"><p>Detonates mine and ends game or clicks piece</p><p>@post mines are set off and game ends, or pieces are cleared until numbered pieces or edge of board is found</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">row<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>row of the given piece</p></td></tr><tr><td class="CDLEntry">col<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>column of the given piece</p></td></tr></table><div class="CHeading">Returns</div><p>number of flags surrounding the piece</p></div>
</div>

<a name="Game.revealMines"></a><a name="Topic47"></a><div class="CTopic TFunction LActionScript">
 <div class="CTitle">revealMines</div>
 <div id="NDPrototype47" class="NDPrototype NoParameterForm"><span class="SHKeyword">public function</span> revealMines():<span class="SHKeyword">void</span></div>
 <div class="CBody"><p>Reveals all mines on the board</p><p>@pre a mine has been clicked</p><p>@post mines are all revealed</p></div>
</div>

<a name="Game.Checker"></a><a name="Topic50"></a><div class="CTopic TFunction LActionScript last">
 <div class="CTitle">Checker</div>
 <div id="NDPrototype50" class="NDPrototype WideForm PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public function</span> Checker(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">row</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last"><span class="SHKeyword">int</span>,</td></tr><tr><td class="PName first">col</td><td class="PTypeNameSeparator">:&nbsp;</td><td class="PType last"><span class="SHKeyword">int</span>&nbsp;</td></tr></table></td><td class="PAfterParameters">):<span class="SHKeyword">void</span></td></tr></table></div>
 <div class="CBody"><p>Recursively clears pieces until numbered piece or edge of board is found</p><p>@pre original clicked piece is not a mine</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">row<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>row of piece to be checked</p></td></tr><tr><td class="CDLEntry">col<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>column of piece to be checked</p></td></tr></table></div>
</div>

</body></html>